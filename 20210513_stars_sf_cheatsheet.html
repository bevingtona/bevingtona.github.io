<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Alexandre R. Bevington</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<link href="site_libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="site_libs/HomeButton-0.0.1/home-button.js"></script>
<script src="site_libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="site_libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="site_libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="site_libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Alexandre R. Bevington</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Research
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="cv.html">CV</a>
    </li>
    <li>
      <a href="pubs.html">Publications and Presentations</a>
    </li>
    <li>
      <a href="research.html">Current projects</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Code and stuff
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="20210329_stars.html">Using the `stars` package</a>
    </li>
    <li>
      <a href="20210504_rgee_rayshade_gifski.html">3D timelapse from Landsat</a>
    </li>
    <li>
      <a href="20210507_PlanetR_Timelapse.html">Download and animate Planet imagery</a>
    </li>
    <li>
      <a href="20210512_FWA_River_Profiles.html">River profile tool for British Columbia</a>
    </li>
    <li>
      <a href="20210702_getspatialdata_sentinel3.html">Sentinel-3 Land Surface Temperature</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.researchgate.net/profile/Alexandre-Bevington">RG</a>
</li>
<li>
  <a href="https://github.com/bevingtona">GitHub</a>
</li>
<li>
  <a href="https://twitter.com/abevingtona">Twitter</a>
</li>
<li>
  <a href="https://www.linkedin.com/in/bevingtona/">Linked-In</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore"><code>stars</code> and <code>sf</code> cheatsheet</h1>

</div>


<p><link rel="stylesheet" href="styles.css" type="text/css"><br />
<link rel="stylesheet" href="academicicons/css/academicons.min.css"/></p>
<p>Originally posted on 2021-03-29<br />
Last updated 2021-07-02</p>
<p>This page is just a few examples and reminders about common tasks using the <code>stars</code> package.</p>
<pre class="r"><code>library(stars)
library(dplyr)
library(sf)
library(mapview)
nc &lt;- st_read(system.file(&quot;shape/nc.shp&quot;, package=&quot;sf&quot;))</code></pre>
<pre><code>## Reading layer `nc&#39; from data source `C:\Users\bevin\Documents\R\win-library\4.0\sf\shape\nc.shp&#39; using driver `ESRI Shapefile&#39;
## Simple feature collection with 100 features and 14 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
## Geodetic CRS:  NAD27</code></pre>
<div id="sf" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> <code>sf</code></h1>
<div id="read-write" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> read / write</h2>
<div id="simple" class="section level3" number="1.1.1">
<h3 number="1.1.1"><span class="header-section-number">1.1.1</span> simple</h3>
</div>
<div id="database" class="section level3" number="1.1.2">
<h3 number="1.1.2"><span class="header-section-number">1.1.2</span> database</h3>
</div>
</div>
<div id="geometric-operations" class="section level2" number="1.2">
<h2 number="1.2"><span class="header-section-number">1.2</span> Geometric operations</h2>
<div id="dissolve" class="section level3" number="1.2.1">
<h3 number="1.2.1"><span class="header-section-number">1.2.1</span> Dissolve</h3>
<pre class="r"><code>nc %&gt;% summarize() %&gt;% mapview()</code></pre>
<pre><code>## although coordinates are longitude/latitude, st_union assumes that they are planar</code></pre>
<div id="htmlwidget-fc5e67c816058a7bedd6" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc5e67c816058a7bedd6">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-83.9884518890417,-84.1181479336408,-84.3237664040026,-84.2909511383906,-84.2258550918743,-84.1796348245033,-84.1015532004133,-84.0426829547682,-84.030765451418,-84.029109783471,-84.0062132110198,-84.0125533914136,-83.9546063010464,-83.9099119076237,-83.881125274253,-83.8300983028264,-83.7757752990479,-83.6727676563209,-83.6137524637728,-83.560924932445,-83.5056864099099,-83.4581766548001,-83.3869769126699,-83.3429081317608,-83.2982976831107,-83.2590050390345,-83.2531836170834,-83.2437304796025,-83.1852264625182,-83.1435381134041,-83.1180627776111,-83.0598334131176,-82.9868789060915,-82.962624284007,-82.9066913355352,-82.9139393926456,-82.8958418757646,-82.856137281161,-82.8085360625346,-82.7763084438202,-82.7734625389958,-82.7630938506859,-82.6437510799294,-82.6279043326536,-82.604260127756,-82.5920909036617,-82.605664049752,-82.5991636760349,-82.5540039073578,-82.5067917257944,-82.4750524263045,-82.4082777496701,-82.3737078499654,-82.3117780939662,-82.2621549796785,-82.2075801801824,-82.1538981132401,-82.1179244903813,-82.077601885489,-82.0202956713783,-81.9329513863055,-81.9109932516575,-81.8304089965723,-81.7303235073018,-81.7092886050311,-81.7402114393675,-81.7409056714829,-81.6981108960788,-81.7026275343611,-81.6698275935862,-81.3451181345896,-80.9032480426982,-80.8379612911977,-80.6108500712286,-80.4351015327773,-80.0478748782977,-80.0238339171866,-79.7172143036658,-79.510062200395,-79.216817341848,-79.1440764566464,-78.7964399873563,-78.7371272333864,-78.4585389345929,-78.3209766915372,-78.051383694688,-77.8985698385603,-77.7636398361287,-77.3197479919708,-77.1770433968313,-76.9238160149225,-76.9213134965555,-76.5632550080924,-76.4972281986459,-76.3299180710282,-76.1270538739299,-76.0456152214006,-76.0328663013111,-76.0907218199173,-75.9757283631865,-75.969418754481,-76.001264804487,-75.9509094975439,-75.9277762094725,-75.9242440132161,-75.799706664213,-75.7985013603784,-75.8548154905671,-75.9134180419198,-75.9571662605477,-75.9415864073834,-76.0086278333495,-75.9568384754626,-75.980993980516,-76.182827511586,-76.2185647683713,-76.1123685110497,-76.1415977284415,-76.2346409657711,-76.2985922857136,-76.2751697717664,-76.4802008733365,-76.4200947585074,-76.5226829388258,-76.593676607034,-76.64869362126,-76.6328851505946,-76.6898326377538,-76.7261873753162,-76.6884125222479,-76.7763208356455,-76.9237632659079,-76.7410263527126,-76.7071738945698,-76.7447423148927,-76.7603528979558,-76.6934416820407,-76.7408066353785,-76.6968981118536,-76.4091389529992,-76.3711512292825,-76.2134313972721,-76.0892974304657,-76.0257046758585,-76.0755726131065,-76.0427273837172,-76.1669681561343,-76.1044053641068,-76.0208685686766,-75.9875108855725,-75.8177057881296,-75.7486121313885,-75.7290201471219,-75.7787046433631,-75.8911498356612,-76.0526394031778,-76.1812828135435,-76.4984765447621,-76.53342772224,-76.4581078400244,-76.4461978056965,-76.5186181048937,-76.4922121152619,-76.6378770162614,-76.6284471275138,-76.7050563002141,-77.1034595660852,-76.9828737632031,-76.6945810669347,-76.6141956417027,-76.5908869819534,-76.5406535636052,-76.5068011364577,-76.6397705397384,-76.6049032880874,-76.623901344055,-76.6776903530822,-76.8491510631586,-76.9411794222114,-76.9429340744884,-77.04757429492,-77.1043692380598,-77.1102822792483,-77.0008811389918,-76.9127975631433,-76.6467297942754,-76.6697404942317,-76.529454576149,-76.4447045450796,-76.4237309873766,-76.3636858592662,-76.3290777539425,-76.3143832067403,-76.469578030814,-76.6249937154758,-77.0502232376054,-77.1486527751473,-77.1290907098823,-77.1562980366994,-77.5383445313123,-77.5864723203315,-77.6094374382356,-77.6023267062529,-77.7502425781799,-77.8641074471288,-77.8941227896875,-77.926480042588,-77.960454337378,-77.9582500166698,-78.0345312333529,-78.5794618561419,-78.6554603275761,-79.0742569371886,-79.446909791173,-79.455737225245,-79.6672757561592,-79.6857318080659,-79.9197324227644,-80.3250715418591,-80.5613458016571,-80.7998708037134,-80.7854581473356,-80.8399716859994,-80.894523383543,-80.9276053499593,-81.0396999777936,-81.0653659767183,-81.0282553817906,-81.0488553145947,-81.0491146774114,-81.3226444219508,-81.3619980424519,-81.765193301292,-81.870428755184,-81.9712847945534,-82.2100234702965,-82.2781789329594,-82.320622572722,-82.3507138099569,-82.3599761957324,-82.3712298973175,-82.3894646625276,-82.4377755353753,-82.4666002627142,-82.524493912283,-82.56989020697,-82.6543578679724,-82.6859140053702,-82.687897748017,-82.6972211640779,-82.7712133037623,-82.8875651753007,-83.007152008548,-83.1061617229571,-83.5128971861687,-83.54930577299,-83.9378979747206,-83.9884518890417],"lat":[34.9891809874502,34.9883380579904,34.989124020244,35.2106540964618,35.2617127173838,35.2410984841053,35.245660708499,35.2726834211004,35.2926300533872,35.3253976290759,35.3729659129785,35.4077285458613,35.4555638318281,35.4765823517899,35.5106888475633,35.5191648912996,35.5527068033327,35.5650737137085,35.5718407981802,35.5552776671406,35.5596529861458,35.5973795414274,35.6253177580935,35.6533589960361,35.6564259079516,35.6911084072421,35.7008051695407,35.7183142736594,35.7289837118941,35.7627812196996,35.7639065069891,35.7826743872433,35.7740875956799,35.7919476307547,35.8723102227422,35.9279617653472,35.9484539016864,35.9475192753292,35.9209656302933,35.9566666531025,35.9875956170154,35.9996383720926,36.051814660232,36.0544314738673,36.0430791252287,36.0225411759915,36.0036397312703,35.9633916307505,35.9562010125687,35.9726343540264,35.9932676145697,36.0754078293734,36.098787618856,36.1222398527575,36.1204659900544,36.1471034439479,36.1397106325272,36.096345935505,36.1002291704346,36.129800063228,36.2634071853403,36.2908381276411,36.3347405450962,36.3294266317489,36.3338096072256,36.3619425174244,36.3918682608663,36.4718609196702,36.5194216957795,36.589729047258,36.5729442074843,36.5652913699116,36.5635174612032,36.5573755304548,36.5511230525697,36.5472123620908,36.5451028286929,36.5479670317337,36.5477339325075,36.5498580845972,36.5461348575637,36.5436088335913,36.546149245559,36.5415558141859,36.5456066339905,36.5525486253838,36.5530174593381,36.5535130333869,36.5539887513475,36.5563572667081,36.5542165956207,36.5542280328406,36.555321861133,36.5558824288343,36.5561260977251,36.5572317632311,36.5570217245078,36.5144428298933,36.5036361609544,36.4362847970446,36.4151899001863,36.4189855445577,36.3655424999793,36.4233149313478,36.3510201454787,36.1128918778418,36.0728955517983,36.1057434345399,36.2448743725177,36.2595264706682,36.2944111654426,36.3196679884593,36.1938462734094,36.1698027698011,36.3153121849491,36.2966816593789,36.1744951327384,36.1477661481752,36.1634368845525,36.2143050727686,36.1104480637337,36.0798706123823,36.0586840306662,36.0072479384419,36.0102120933245,36.0657874826376,36.0371968408463,36.0496898843927,36.1568999710595,36.2945925443036,36.3584038268317,36.3925184142449,36.3152412501146,36.2662079734881,36.2339935718028,36.1446703791642,35.9930503753318,35.9367085296783,35.9416254602487,35.9775469762751,35.9324237052077,35.9769551656493,35.9629932980293,35.9205058569443,35.7568854460754,35.6839345508183,35.6969274971032,35.6637248670623,35.669179538063,35.8927887060885,35.9235989171854,35.8694196448355,35.6652572711115,35.5787723564871,35.6313533968663,35.4146949336866,35.3416262821681,35.4163097442211,35.4502904609806,35.5045150654653,35.5509542079592,35.5777330332401,35.5418755386054,35.5204263256407,35.4379885700501,35.4120264792504,35.5502769379327,35.4365933484005,35.350519546069,35.2730139283892,35.3121747312632,35.3037824379533,35.2488632986224,35.1726170864911,35.138659276114,35.0644497800325,35.0241866502667,34.9823216892861,35.0275289370756,35.0701343883543,35.092255615158,35.0880863832102,35.0661370959612,35.0529878367999,34.9365731700895,34.9064370202867,34.9700991942551,34.9747373960201,35.0167589748807,34.9463487462296,34.9432129709429,34.9760567150844,34.9489156873219,34.7851661401929,34.7198603601644,34.6990260312791,34.764439277087,34.6850227819864,34.6607466492258,34.4571235471916,34.4210526900146,34.4351591792637,34.4127445027881,34.3051651750739,34.1928594808701,34.0693043313211,34.0621596408685,34.1893655165159,33.9927071207778,33.9144200745446,33.8821229602902,33.9488024786563,34.3046950163946,34.6191762166134,34.6342058114771,34.8007751614028,34.8053679922689,34.8080310233088,34.8148751550267,34.8153409343996,34.8162263111039,34.9407506012566,35.0021278640601,35.059843100995,35.1013576303527,35.0373103851601,35.0665914236819,35.105515719636,35.1321188926623,35.1516382907865,35.1638645518618,35.1629605451439,35.1825796929164,35.1832245050155,35.1883896308411,35.1932345006927,35.1951151918188,35.1842969871952,35.1927807341741,35.1830572841525,35.182832235288,35.2083482373084,35.1696680686111,35.1736086030618,35.1546690935222,35.1495995192403,35.1195671312035,35.1215736556732,35.0979115856816,35.0913428250307,35.0855332451262,35.0554818172071,35.0243165225508,35.000391347578,34.9921369094076,34.9896498123907,34.9895051894187,34.9891809874502]}],[{"lng":[-76.5439523638729,-76.5548244890164,-76.5374289356673,-76.4841585821471,-76.4319717118825,-76.3743525896682,-76.2873746254591,-76.4689375005198,-76.5439523638729],"lat":[34.5879393771717,34.6107698638189,34.6140313121278,34.697739044547,34.7607906562334,34.8129744231333,34.8771131165885,34.6933903447419,34.5879393771717]}],[{"lng":[-75.9753525516765,-75.8535911662588,-75.7633554955356,-75.8111933586807,-75.903603498533,-76.0025370960621,-76.0166671597284,-75.9753525516765],"lat":[35.1162810180328,35.1673774615087,35.1923782018318,35.1641158436896,35.1325883008003,35.0695329735856,35.0695330130751,35.1162810180328]}],[{"lng":[-76.0268234478212,-75.9983191566616,-75.9115703464228,-75.9244570951062,-75.9769336587637,-75.9759416295061,-76.0268234478212],"lat":[36.5567851633737,36.5567202321884,36.5425982332264,36.4740456271551,36.4780854683437,36.5179940819675,36.5567851633737]}],[{"lng":[-75.7023834258639,-75.7405162975046,-75.7828217995914,-75.9016365091187,-75.8778168112401,-75.7728040809809,-75.5446115533401,-75.7023834258639],"lat":[36.0499388702932,36.0504005515657,36.2252668241349,36.5562660101456,36.5559416971852,36.2293293692837,35.7884422676824,36.0499388702932]}],[{"lng":[-75.4908613671889,-75.5332663870046,-75.4566198458629,-75.5259443288826,-75.7489431459659,-75.691217216543,-75.521129803462,-75.4750608848557,-75.4908613671889],"lat":[35.6705817813325,35.7689380780981,35.6174821719285,35.2280098504164,35.189921547343,35.2350826305247,35.2814488075281,35.5645810842774,35.6705817813325]}]]],null,".",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>geometry&emsp;<\/th><td>sfc_MULTIPOLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-84.3237664040026,33.8821229602902,-75.4566198458629,36.589729047258,true,".","Zoom to .","<strong> . <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],".",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["."],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"."}]}],"limits":{"lat":[33.8821229602902,36.589729047258],"lng":[-84.3237664040026,-75.4566198458629]},"fitBounds":[33.8821229602902,-84.3237664040026,36.589729047258,-75.4566198458629,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
<pre class="r"><code>nc %&gt;% st_buffer(10) %&gt;% st_union() %&gt;%
  st_sf() %&gt;% st_cast(&quot;POLYGON&quot;, group_or_split = F) %&gt;% mapview()</code></pre>
<pre><code>## Warning in st_buffer.sfc(st_geometry(x), dist, nQuadSegs, endCapStyle =
## endCapStyle, : st_buffer does not correctly buffer longitude/latitude data</code></pre>
<pre><code>## dist is assumed to be in decimal degrees (arc_degrees).
## although coordinates are longitude/latitude, st_union assumes that they are planar</code></pre>
<div id="htmlwidget-af464c4fb1372fe690ca" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-af464c4fb1372fe690ca">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-86.4238895951004,-86.9286603500441,-87.4264278352796,-87.9158063707842,-88.3954966017027,-88.8642047251351,-89.3206665586166,-89.7636509912126,-90.191963063309,-90.6044476654233,-90.9999922583396,-91.3775299925072,-91.7360425854458,-92.074563068151,-92.3921783930961,-92.6880318967955,-92.9613256102907,-93.2113224113292,-93.4373480124328,-93.6387927794963,-93.8151133760131,-93.9658342284961,-94.0905488091434,-94.1889207322917,-94.2606846617031,-94.3056470262391,-94.3236865419954,-94.3147545394893,-94.2788750950199,-94.2161449658473,-94.1833305550903,-94.0894568570078,-93.9668217627416,-93.8157852198563,-93.6367905417916,-93.4303631069319,-93.1971088168194,-92.9377123180321,-92.6529349929397,-92.3436127252279,-92.0106534467396,-91.6550344728265,-91.2777996340208,-90.880056212435,-90.4629716918731,-90.3978755733923,-89.9731458414517,-89.9330784607835,-89.8825164193772,-89.451774960411,-89.0054921593057,-88.5449130499015,-88.071322579112,-87.5860419967059,-87.4806916031524,-87.4173369461281,-87.1331641870235,-86.908514379739,-86.6001068875296,-86.1451246635742,-85.6782460897152,-85.2007122316855,-84.7137924818444,-84.2187811846279,-83.7169941956063,-83.2097653833032,-82.6984430830813,-82.1843865125338,-81.6689621579186,-81.1535401412564,-81.0002742738603,-80.7300503399459,-80.6821071434833,-80.6325867517959,-80.3401872813791,-80.25526511642,-80.2067652309773,-79.9468601533487,-79.9392236260837,-79.810790431875,-79.7061213496374,-79.5408159058822,-79.2894161388138,-79.097311286143,-79.0715682542926,-78.7239297726194,-78.7122651450496,-78.5724105848544,-78.5170380918477,-78.3089740890762,-78.0822214383241,-77.9324311714895,-77.8005248555709,-77.7745123557645,-77.4082470281006,-77.3431600628547,-77.2218400645707,-77.0926560949593,-76.897301804742,-76.621133161965,-76.582282256369,-76.5119434547999,-76.3646034532351,-76.1817088958604,-76.1014094890824,-76.0199703561582,-76.0084445224686,-76.0041904866408,-75.9756860272632,-75.8794341709842,-75.7656321445393,-75.7418123061533,-75.2230448576862,-74.706042652897,-74.1921991539085,-73.6828993075525,-73.1795158121749,-72.6834054175072,-72.1959052675896,-71.718329296606,-71.2519646873521,-70.7980684018826,-70.3578637936888,-69.9325373105348,-69.5232352968335,-69.1310609041766,-68.7570711183347,-68.4021137563249,-68.0674667658702,-67.7538705258153,-67.4621702244861,-67.1931520347744,-66.9475409956332,-66.7260300951424,-66.565638712858,-66.5337533091568,-66.304823965944,-66.1016668502816,-65.9254986161972,-65.7768274866253,-65.6560823588536,-65.5636115672085,-65.4996818781554,-65.4644777207109,-65.4581006543888,-65.4805690762138,-65.5318181676486,-65.6117000815868,-65.6810207602977,-65.7883131103299,-65.9232444641504,-66.0854318505347,-66.2744149383571,-66.4896573431336,-66.7305481494244,-66.9958318790612,-67.2859078929462,-67.5993711799514,-67.9353320562129,-68.2928369847035,-68.670871281463,-69.0683619953832,-69.4841809533749,-69.9171479622783,-70.3660341584282,-70.7283165171456,-70.9910058168704,-71.4305540110567,-71.8839108348124,-72.3498520129338,-72.8270989271906,-73.1913721187501,-73.4023944555961,-73.8766332244031,-74.3624132791591,-74.8584281721589,-75.3632954258313,-75.8756078888227,-76.3939376579659,-76.9168400581,-77.4428576686462,-77.9877849647546,-78.5070551443421,-79.0265207672209,-79.5447796623716,-80.0604329155225,-80.5720886452113,-81.078365759863,-81.577897685743,-82.0693360557202,-82.5513543488818,-83.022651471176,-83.1623093399019,-83.3099723625346,-83.3989067186003,-83.5455771342074,-83.9039611493243,-83.9238783202887,-84.0531423026557,-84.1563659189456,-84.3619831213996,-84.8811089143801,-85.3987313644144,-85.9134543563594,-86.4238895951004],"lat":[25.2123941386823,25.3346052554522,25.4828734575282,25.6567630033873,25.8558234117444,26.0795178043812,26.3272428634329,26.5983183471344,26.8920373171562,27.2075955013557,27.5441418175579,27.900768576437,28.2765139294215,28.6703644626466,29.0812579299572,29.5080861175952,29.9496978328448,30.4049020085821,30.8724709153579,31.3511434723581,31.8396286483167,32.3366089432163,32.8407439413918,33.3506739264633,33.8650235483536,34.3824055325087,34.9014244213228,35.4206803376838,35.9387727604934,36.4543043019832,36.6758350199134,37.2094137527986,37.7371260811372,38.2574230031431,38.7687772777548,39.2696879077645,39.7586845459965,40.234331811595,40.6952335037467,41.1400367004611,41.5674357303703,41.9761760058783,42.3650577064015,42.7329393008749,43.0787408991774,43.1298003928242,43.4451632435363,43.4717463969827,43.5096783371659,43.8153974426751,44.0979350589622,44.3565156332199,44.5904177264837,44.7989887515069,44.8410075556464,44.8643861702266,45.0062951431339,45.1044476218033,45.2898676374811,45.532404838489,45.7511705968522,45.9455833564752,46.1151262994243,46.2593487201035,46.3778672236467,46.4703667453374,46.5366013883439,46.5763950775417,46.5896420276809,46.5763070246562,46.5683842431414,46.5637039998688,46.5616042988182,46.561540708661,46.553624586028,46.5509644365049,46.5492389442931,46.5466139513923,46.5462408991461,46.5475450562856,46.5479751497832,46.5477893260318,46.5496106784295,46.5453937790563,46.5458859838106,46.5433602900879,46.5429651446439,46.5448057609472,46.5438928136668,46.5492507399295,46.5525178736727,46.5529775945367,46.5534622068496,46.5535239434202,46.5539168518255,46.5549972024374,46.5537572574711,46.5560173330479,46.5543660641435,46.5552100067457,46.5555398929056,46.555889769938,46.5561044976276,46.5571015086935,46.5572168591338,46.5570068913034,46.5566764082676,46.5567776551768,46.5567127488552,46.5539405309008,46.5553578084988,46.555033510395,46.5344933024984,46.48705869035,46.4128575310825,46.3120898284995,46.1850271938482,46.0320121135395,45.8534570257909,45.6498432086829,45.4217194826304,45.169700730768,44.8944662412436,44.5967578758916,44.2773780702277,43.9371876701619,43.5771036112663,43.1979728295475,42.8010632808132,42.3873220110979,41.9578641885306,41.5138473384158,41.0564682229409,40.5870287078789,40.1956780106673,40.132670420741,39.6470473412958,39.1498406845913,38.6424433783164,38.1263191991237,37.6029570995838,37.073866912746,36.5405749964628,36.0046198300411,35.4675475759257,34.9309076192172,34.396248097893,33.8651114366268,33.4756308458064,32.9537926875757,32.4384091008005,31.9309428817682,31.4328343551615,30.9454972860326,30.4703148671599,30.0088333609095,29.5619832268391,29.1312149774222,28.7177512041933,28.3227653843788,27.9473785507222,27.592656110127,27.2596048201423,26.9491699318704,26.6622325074048,26.4569721284767,26.2715474477847,25.9943264657221,25.7403123390804,25.510191004205,25.3045735241497,25.1696168062189,25.0521403691963,24.8200046764723,24.6132581927347,24.4324354094915,24.278040297365,24.1505031711014,24.050179490228,23.9773488683284,23.9322142936991,23.8999187975306,23.8826632984845,23.8923985769101,23.9290983588952,23.992663588895,24.0829226970642,24.1996320623175,24.3424766698686,24.5110709614701,24.7049598760584,24.9236200779916,24.9974594311172,24.9944631088456,24.994949170297,24.989918531932,24.9897860593944,24.9896583833374,24.9888186055437,24.9886807208798,24.9894671990609,25.0049382589974,25.0473380580551,25.1165522426035,25.2123941386823]}]]],null,".",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>geometry&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-94.3236865419954,23.8826632984845,-65.4581006543888,46.5896420276809,true,".","Zoom to .","<strong> . <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],".",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["."],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"."}]}],"limits":{"lat":[23.8826632984845,46.5896420276809],"lng":[-94.3236865419954,-65.4581006543888]},"fitBounds":[23.8826632984845,-94.3236865419954,46.5896420276809,-65.4581006543888,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
<div id="zonal-operations" class="section level2" number="1.3">
<h2 number="1.3"><span class="header-section-number">1.3</span> Zonal operations</h2>
</div>
<div id="section" class="section level2" number="1.4">
<h2 number="1.4"><span class="header-section-number">1.4</span> </h2>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
